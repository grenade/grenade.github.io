"use strict";angular.module("grenadeNgRootApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/blog",{templateUrl:"views/blog.html",controller:"BlogCtrl",controllerAs:"blog"}).otherwise({redirectTo:"/"})}]),angular.module("grenadeNgRootApp").controller("MainCtrl",["$scope","$window","GistApi","BugzillaApi",function(a,b,c,d){var e="https://raw.githubusercontent.com/grenade/grenade-ng-root/master/app/images/";a.go=function(a){b.location.href=a};var f=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c].language===a)return!0;return!1},g=function(a){return f("PowerShell",a)?e+"icon-powershell.png":f("Python",a)?e+"icon-python.png":f("Shell",a)?e+"icon-bash.png":f("Markdown",a)?e+"icon-markdown.png":e+"icon-gist.png"};a.things=[],c.query({username:"grenade"},function(b){for(var c in b)b[c].description&&(a.things.push({date:b[c].created_at,summary:b[c].description,comments:b[c].comments,files:b[c].files,url:b[c].html_url,icon:g(b[c].files)}),a.things.sort(function(a,b){return a=new Date(a.date),b=new Date(b.date),a>b?-1:b>a?1:0}))}),d.query({assigned_to:"rthijssen"},function(b){for(var c in b.bugs)a.things.push({date:b.bugs[c].last_change_time,summary:b.bugs[c].summary,url:"https://bugzilla.mozilla.org/show_bug.cgi?id="+b.bugs[c].id,icon:e+"icon-bugzilla.png"}),a.things.sort(function(a,b){return a=new Date(a.date),b=new Date(b.date),a>b?-1:b>a?1:0});a.data=b})}]),angular.module("grenadeNgRootApp").controller("BlogCtrl",["$scope","GistApi",function(a,b){a.gists=b.query({username:"grenade"}),a.gistFilter=function(a){return a.description?!0:!1}}]),angular.module("grenadeNgRootApp").factory("GistApi",["$resource",function(a){var b="https://api.github.com/users/:username/gists";return a(b,{username:"@_username",id:"@_id"},{headers:{Accept:"application/vnd.github.v3+json"},get:{url:b+"/:id"},query:{isArray:!0}})}]),angular.module("grenadeNgRootApp").service("BugzillaApi",["$resource",function(a){return a("https://bugzilla.mozilla.org/rest/bug/:id",{id:"@_id"},{query:{isArray:!1}})}]),angular.module("grenadeNgRootApp").run(["$templateCache",function(a){a.put("views/blog.html",'<ul> <li ng-repeat="gist in gists | filter:gistFilter"> <strong>{{gist.created_at | date : format : shortDate}}</strong><br> <a href="{{gist.html_url}}"> <em>{{gist.description}}</em> </a> <span class="badge" ng-show="gist.comments">{{gist.comments}}</span> <ul ng-show="false"> <li ng-repeat="file in gist.files"> <span>{{file.filename}}</span> </li> </ul> </li> </ul>'),a.put("views/main.html",'<div class="jumbotron" ng-show="show.jumbotron" ng-click="show.jumbotron=!show.jumbotron"> <p class="lead"> <img src="images/gitninja360.fda0a75d.png" alt="I\'m GitNinja"> </p> <h1>Yo!</h1> </div> <div ng-hide="show.jumbotron" ng-click="show.jumbotron=!show.jumbotron" class="clearfix text-center"> <img src="images/gitninja360.fda0a75d.png" alt="I\'m GitNinja" style="width: 36px; height: 36px"> </div> <div class="row text-center"> <p> I\'m Rob. </p> <p> I have a <a href="/cv">CV</a> here but I mostly do online stuff elsewhere. </p> <ul class="list-inline"> <li> <a href="https://plus.google.com/+RobThijssen/photos"> <img ng-src="images/plus.1c560a78.png"> </a> </li> <li> <a href="https://twitter.com/grenade"> <img ng-src="images/twitter.3c249aa9.png"> </a> </li> <li> <a href="https://www.linkedin.com/in/thijssen"> <img ng-src="images/in.07af6e45.png"> </a> </li> <li> <a href="https://github.com/grenade"> <img ng-src="images/github.f32612bb.png"> </a> </li> <li> <a href="https://mozillians.org/u/grenade"> <img ng-src="images/mozilla.3851055d.png"> </a> </li> </ul> <p style="margin-top: 20px">Some stuff I\'ve been working on:</p> </div> <div class="row"> <ul class="timeline"> <li ng-repeat="thing in things" ng-class-odd="\'timeline-inverted\'" ng-click="go(thing.url)"> <div class="timeline-badge"> <img src="{{thing.icon}}"> </div> <div class="timeline-panel"> <div class="timeline-heading"> <h4 class="timeline-title"> {{thing.summary | limitTo : 32 }} </h4> <p class="small text-muted"> <i class="glyphicon glyphicon-time"></i> <span>{{thing.date | date : format : shortDate}}</span> </p> </div> <div class="timeline-body"> <ul> <li ng-repeat="file in thing.files"> <span>{{file.filename | limitTo : 32 }}</span> </li> </ul> </div> </div> </li> </ul> </div>')}]);