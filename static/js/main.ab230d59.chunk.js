(this["webpackJsonpgrenade-events-react"]=this["webpackJsonpgrenade-events-react"]||[]).push([[0],{116:function(t,e,i){},268:function(t,e,i){},270:function(t,e,i){"use strict";i.r(e);var n=i(1),a=i.n(n),s=i(12),r=i.n(s),o=(i(116),i(34)),l=i(35),c=i(53),h=i(36),u=i(38),d=i(58),p=i(56),g=(i(130),i(105)),m=i(104),b=i.n(m),f=i(272),v=i(273),j=i(274),x=i(275),w=i(276),k=i(2),y=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(t){var n,a,s,r;switch(Object(o.a)(this,i),(n=e.call(this,t)).icons={lock:f.a,unlock:v.a,login:j.a,wrench:x.a,code:w.a},n.props.timelineEvent.action){case"GitHub_PullRequestEvent":case"GitHub_PullRequestReviewCommentEvent":case"GitHub_ForkEvent":case"GitHub_IssueCommentEvent":case"Git_Commit":a="blue",r={color:"#fff"};break;case"GitHub_PushEvent":a="green",r={color:"#fff"};break;case"GitHub_DeleteEvent":a="red opaque",r={color:"#fff"};break;case"workstation_lock":a="red opaque",r={color:"#aaa"};break;case"workstation_login":case"workstation_unlock":a="green opaque",r={color:"#fff"};break;default:a="blue",r={color:"#fff"}}switch(n.props.timelineEvent.action){case"GitHub_PullRequestEvent":case"GitHub_PullRequestReviewCommentEvent":case"GitHub_IssueCommentEvent":case"GitHub_PushEvent":case"GitHub_DeleteEvent":case"GitHub_ForkEvent":s="https://github.com/grenade/grenade-ng-root/raw/master/app/images/icon-push-github.png";break;case"Bugzilla_BugChange":case"Bugzilla_BugComment":case"Bugzilla_BugCreate":s="https://github.com/grenade/grenade-ng-root/raw/master/app/images/icon-bugzilla.png";break;case"Git_Commit":s="code";break;case"workstation_lock":s="lock";break;case"workstation_login":s="login";break;case"workstation_unlock":s="unlock";break;default:s="wrench"}return n.state={id:n.props.timelineEvent.id,className:a,date:n.props.timelineEvent.date,url:n.props.timelineEvent.body&&n.props.timelineEvent.body.content.url?n.props.timelineEvent.body.content.url:null,iconUrl:s,iconStyle:r,iconHeight:"60px",iconWidth:"60px",title:{prefix:n.props.timelineEvent.title.prefix,link:{text:n.props.timelineEvent.title.text,url:n.props.timelineEvent.title.url},suffix:n.props.timelineEvent.title.suffix},subtitle:n.props.timelineEvent.subtitle?{prefix:n.props.timelineEvent.subtitle.prefix,link:{text:n.props.timelineEvent.subtitle.text,url:n.props.timelineEvent.subtitle.url},suffix:n.props.timelineEvent.subtitle.suffix}:{},body:"",commits:n.props.timelineEvent.body&&"UnorderedList"===n.props.timelineEvent.body.tag?n.props.timelineEvent.body.content:[]},n}return Object(l.a)(i,[{key:"render",value:function(){var t;switch(this.props.timelineEvent.body?this.props.timelineEvent.body.tag:null){case"UnorderedList":t=Object(k.jsx)("ul",{children:Array.isArray(this.props.timelineEvent.body.content)?this.props.timelineEvent.body.content.map((function(t,e){return Object(k.jsxs)("li",{children:[t.prefix,Object(k.jsx)("a",{href:t.url,children:t.text}),t.suffix]},e)})):Object(k.jsxs)("li",{children:[this.props.timelineEvent.body.content.prefix,Object(k.jsx)("a",{href:this.props.timelineEvent.body.content.url,children:this.props.timelineEvent.body.content.text}),this.props.timelineEvent.body.content.suffix]})});break;case"Markdown":t=this.props.timelineEvent.body.content.map((function(t,e){return Object(k.jsx)(b.a,{source:t.text},e)}));break;default:t=this.props.timelineEvent.body?this.props.timelineEvent.body.content.map((function(t,e){return Object(k.jsx)("p",{children:t.text},e)})):""}var e=this.icons[this.state.iconUrl||"wrench"];return Object(k.jsxs)(p.VerticalTimelineElement,{className:this.state.className,date:new Date(this.state.date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).toLowerCase()+" - "+new Date(this.state.date).toLocaleTimeString("en-GB",{timeZoneName:"short"}).toLowerCase(),iconStyle:this.state.iconStyle,icon:this.state.iconUrl&&this.state.iconUrl.startsWith("http")?Object(k.jsx)(g.a,{src:this.state.iconUrl,style:{width:this.state.iconWidth,height:this.state.iconHeight},fluid:!0,roundedCircle:!0}):Object(k.jsx)(e,{}),children:[Object(k.jsx)("h4",{className:"vertical-timeline-element-title "+this.state.className,children:null===this.state.title.link?this.state.title.prefix:Object(k.jsxs)("span",{children:[this.state.title.prefix," ",Object(k.jsx)("a",{href:this.state.title.link.url,children:this.state.title.link.text})," ",this.state.title.suffix]})}),Object(k.jsx)("h5",{className:"vertical-timeline-element-subtitle "+this.state.className,children:null===this.state.subtitle.link||void 0===this.state.subtitle.link?this.state.subtitle.prefix:Object(k.jsxs)("span",{children:[this.state.subtitle.prefix," ",Object(k.jsx)("a",{href:this.state.subtitle.link.url,children:this.state.subtitle.link.text})," ",this.state.subtitle.suffix]})}),Object(k.jsx)("div",{children:t})]},this.state.id)}}]),i}(a.a.Component),E=i(111),O=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(){return Object(o.a)(this,i),e.apply(this,arguments)}return Object(l.a)(i,[{key:"addDays",value:function(t){var e=new Date(this.getTime());return e.setDate(e.getDate()+(t||0)),this.setTime(e.getTime()),this}},{key:"floor",value:function(){var t=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()));return this.setTime(t.getTime()),this}},{key:"ceil",value:function(){var t=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+1));return this.setTime(t.getTime()),this}}]),i}(Object(E.a)(Date)),C=i(81),D=i(109),_=i(45),S=i(20),G=i(110),T=(i(266),i(267),i(268),Math.floor(new O("2013-04-07").floor().getTime())),z=Math.floor((new O).ceil().getTime()),L=[{name:"bugzilla",pattern:new RegExp("^bugzilla_","i")},{name:"git",pattern:new RegExp("^git_","i")},{name:"github",pattern:new RegExp("^github_","i")},{name:"hg",pattern:new RegExp("^hg_","i")},{name:"workstation",pattern:new RegExp("^workstation_","i")}],M=[{url:"https://instagram.com/rob_thij",icon:"https://github.com/grenade/grenade-events-react/raw/master/public/ig36.png",alt:"photos on instagram"},{url:"https://twitter.com/grenade",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/twitter.png",alt:"random musings at twitter"},{url:"https://www.facebook.com/rob.thijssen",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/facebook.png",alt:"social life and photos on facebook"},{url:"https://linkedin.com/in/thijssen/",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/in.png",alt:"career history and linkedin connections and profile"},{url:"https://stackoverflow.com/users/68115/grenade",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/so.png",alt:"giving and receiving technical advice at stackoverflow"},{url:"https://github.com/grenade",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/githublod.png",alt:"code contribution at github"},{url:"https://people.mozilla.org/p/grenade",icon:"https://github.com/grenade/grenade-ng-root/raw/master/app/images/mozillalod.png",alt:"working at mozilla"},{url:"https://steelhorseadventures.com",icon:"https://raw.githubusercontent.com/steelhorseadventures/sha-ng/master/app/images/bike36lod.png",alt:"solo adventure biking in europe on a yamaha fzs 1000"},{url:"https://draken-magnifik-midget.blogspot.com/",icon:"https://raw.githubusercontent.com/steelhorseadventures/sha-ng/master/app/images/sail36lod.png",alt:"sailing solo on a magnifik midget"}];function N(t){return new Date(t).toISOString().split(".")[0]+"Z"}var A=function(t){Object(h.a)(i,t);var e=Object(u.a)(i);function i(){var t;Object(o.a)(this,i),(t=e.call(this)).onSliderChange=function(e){t.setState((function(t,i){return{filterDateStart:new O(e[0]).floor().getTime(),filterDateEnd:new O(e[1]).ceil().getTime(),filters:[{date:{$gte:N(e[0])}},{date:{$lt:N(e[1])}},t.filters[2]]}}),(function(){t.displayEvents()}))},t.onCheckboxChange=function(e){var i=e.target;t.setState((function(t,e){return{filterAction:{bugzilla:"bugzilla"===i.id?i.checked:t.filterAction.bugzilla,git:"git"===i.id?i.checked:t.filterAction.git,github:"github"===i.id?i.checked:t.filterAction.github,hg:"hg"===i.id?i.checked:t.filterAction.hg,workstation:"workstation"===i.id?i.checked:t.filterAction.workstation},filters:[t.filters[0],t.filters[1],{$or:L.filter((function(e){return e.name===i.id&&i.checked||e.name!==i.id&&t.filterAction[e.name]})).map((function(t){return{action:t.pattern}}))}]}}),(function(){t.displayEvents()}))};var n=Math.floor((new O).floor().addDays(-30).getTime()),a=Math.floor((new O).ceil().getTime());return t.state={events:[],filterEventMax:100,filterDateStart:n,filterDateEnd:a,filterAction:{bugzilla:!0,git:!0,github:!0,hg:!0,workstation:!0},filters:[{date:{$gte:N(n)}},{date:{$lt:N(a)}},{$or:L.map((function(t){return{action:t.pattern}}))}]},t.displayEvents=t.displayEvents.bind(Object(c.a)(t)),t}return Object(l.a)(i,[{key:"componentDidMount",value:function(){this.client=d.c.initializeDefaultAppClient("grenade-tnats");var t=this.client.getServiceClient(d.b.factory,"mongodb-atlas-grenade-stitch");this.db=t.db("grenade"),this.displayEventsOnLoad()}},{key:"displayEvents",value:function(){var t=this;this.db.collection("moment").find({$and:this.state.filters},{limit:this.state.filterEventMax,sort:{date:-1}}).asArray().then((function(e){t.setState({events:e})}))}},{key:"displayEventsOnLoad",value:function(){this.client.auth.loginWithCredential(new d.a).then(this.displayEvents).catch(console.error)}},{key:"getFriendlyWordList",value:function(t){if(!t||0===t.length)return"";var e=t.join(", "),i=e.lastIndexOf(", ");return e.slice(0,i)+e.slice(i).replace(", "," and ")}},{key:"render",value:function(){var t=this;return Object(k.jsxs)(D.a,{children:[Object(k.jsxs)(_.a,{className:"white-text",children:[Object(k.jsx)(S.a,{children:Object(k.jsx)("h1",{children:"hi, i'm rob"})}),Object(k.jsx)(S.a,{children:Object(k.jsx)("div",{className:"rounded",style:{backgroundColor:"white",width:"100%"},children:M.map((function(t,e){return Object(k.jsx)("a",{href:t.url,title:t.alt,target:"_blank",rel:"noopener noreferrer",children:Object(k.jsx)("img",{src:t.icon,alt:t.alt,className:"float-right",style:{marginLeft:"10px"}})},e)}))})})]}),Object(k.jsx)(_.a,{className:"white-text",children:Object(k.jsxs)("p",{children:["i rarely say anything that warrants capital letters. if you're here to see my resume, please go to: ",Object(k.jsx)("a",{className:"hot-pink-text",href:"https://rob.tn/cv/",children:"https://rob.tn/cv"}),". \xa0much of what you never wanted to know about me, can be found by following the icon links above. \xa0a peek into the projects i'm working on, is below."]})}),Object(k.jsxs)(_.a,{className:"white-text",children:[Object(k.jsx)(S.a,{children:L.map((function(t){return t.name})).map((function(e){return Object(k.jsx)(G.a.Check,{type:"switch",id:e,label:e,checked:t.state.filterAction[e],onChange:t.onCheckboxChange})}))}),Object(k.jsx)(S.a,{}),Object(k.jsx)(S.a,{}),Object(k.jsxs)(S.a,{children:[Object(k.jsxs)("label",{style:{fontSize:"70%"},children:["number of activities to display: ",this.state.filterEventMax]}),Object(k.jsx)(C.b,{value:this.state.filterEventMax,min:10,max:1e3,onChange:function(e){return t.setState({filterEventMax:e},(function(){t.displayEvents()}))}})]})]}),Object(k.jsx)(_.a,{children:Object(k.jsxs)(S.a,{children:[Object(k.jsx)(C.a,{allowCross:!1,value:[this.state.filterDateStart,this.state.filterDateEnd],min:T,max:z,onChange:this.onSliderChange}),Object(k.jsxs)("p",{className:"white-text text-center",children:["showing ",Object(k.jsx)("em",{children:this.state.filterEventMax===this.state.events.length?"latest "+this.state.filterEventMax:"all "+this.state.events.length})," activities from ",Object(k.jsx)("em",{children:this.getFriendlyWordList(L.filter((function(e){return t.state.filterAction[e.name]})).map((function(t){return t.name})))})," that took place between \xa0",Object(k.jsx)("em",{children:new Date(this.state.filterDateStart).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).toLowerCase()}),"\xa0and ",Object(k.jsx)("em",{children:new Date(this.state.filterDateEnd).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).toLowerCase()}),"."]}),Object(k.jsx)(p.VerticalTimeline,{children:this.state.events.map((function(t){return Object(k.jsx)(y,{timelineEvent:t},t._id)}))})]})})]})}}]),i}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(k.jsx)(A,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[270,1,2]]]);
//# sourceMappingURL=main.ab230d59.chunk.js.map